<!-- 자바스크립트에서 제공하는 함수 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ajax fetch</title>
    <script>
        //fetch(url, {options})//option부분을 따로 키와 밸류로 줄수 있음
        //.then() 성공시
        //.catch() 실패시
        window.addEventListener("DOMContentLoaded", function(){
            document.querySelector("button").onclick = function(){
                fetch("http://localhost:8080/myweb/data.json",{
                    method:"get"
                })
                .then((response)=> {//promise라는 객체로 받음
                    //받은 데이타를 json으로 파싱
                    //return response.text();
                    
                    return response.json();
                })
                .then((result)=> {
                    //실행할 로직
                    console.log(result);
                })
                .catch((error)=> console.log("error", error));
            }
            
        });
        
    </script>
</head>
<body>
    <h1>fetch를 이용한 ajax</h1>
    <button>데이터 가져오기</button>
</body>
</html>